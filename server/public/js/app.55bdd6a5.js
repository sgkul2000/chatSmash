(function(e){function t(t){for(var a,s,i=t[0],c=t[1],l=t[2],m=0,d=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],a=!0,i=1;i<o.length;i++){var c=o[i];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},n={app:0},r=[];function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"031b":function(e,t,o){},"034f":function(e,t,o){"use strict";var a=o("85ec"),n=o.n(a);n.a},"0490":function(e,t,o){},"3e5f":function(e,t,o){"use strict";var a=o("a380"),n=o.n(a);n.a},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],s=(o("034f"),o("2877")),i={},c=Object(s["a"])(i,n,r,!1,null,null,null),l=c.exports,u=o("8c4f"),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"row text-center"},[o("div",{staticClass:"col-sm-5 mx-auto loginDialog"},[o("h1",[e._v("Login")]),o("b-form",{on:{submit:function(t){return t.preventDefault(),e.redirect(t)}}},[o("div",{staticClass:"goLeft"},[o("b-form-group",{attrs:{id:"input-group-1",label:"Username:","label-for":"input-1",description:"Enter a username of your choice"}},[o("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Enter your Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("b-form-group",{attrs:{id:"input-group-2",label:"Name:","label-for":"input-2"}},[o("b-form-input",{attrs:{id:"input-2",type:"text",required:"",placeholder:"Enter name"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1),o("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)])])])},d=[],h=(o("96cf"),o("1da1")),p=o("5530"),f=o("2f62"),v=(o("d3b7"),o("d4ec")),g=o("bee2"),b=o("1052"),w=o.n(b),R="https://shielded-beyond-17297.herokuapp.com/api/room/",y=function(){function e(){Object(v["a"])(this,e)}return Object(g["a"])(e,null,[{key:"getRoomList",value:function(){return new Promise((function(e,t){w.a.get(R).then((function(t){var o=t.data;e(o)})).catch((function(e){console.log(e),console.log(e.message),t(e)}))}))}},{key:"getSpecificRoom",value:function(e){var t=R+"getRoomList/"+e+"/";return new Promise((function(e,o){w.a.get(t).then((function(t){var o=t.data,a=o[0],n=a.rooms;e(n)})).catch((function(e){console.log(e),console.log("user not signed in"),o(e)}))}))}},{key:"getRoomChats",value:function(e){var t=R+e+"/";return new Promise((function(e,o){w.a.get(t).then((function(t){var o=t.data;e(o)})).catch((function(e){console.log(e),console.log(e.message),o(e)}))}))}},{key:"createRoom",value:function(e,t){var o=R+"newRoom/",a={user:e,roomName:t};return new Promise((function(e,t){w.a.post(o,a).then((function(t){console.log(t.status);var o=t.data;e(o)})).catch((function(e){console.log(e),t(e)}))}))}},{key:"joinRoom",value:function(e,t){var o=R+"join/",a={user:e,name:t};return new Promise((function(e,t){w.a.post(o,a).then((function(t){console.log(t.status);var o=t.data;e(o)})).catch((function(e){console.log(e),t(e)}))}))}},{key:"addMessage",value:function(e,t,o){var a=R+"newMessage/add/",n={username:e,roomName:t,text:o};return new Promise((function(e,t){w.a.post(a,n).then((function(t){console.log(t.status),console.log("Message acknowledged"),e()})).catch((function(e){console.log(e.message),console.log(e),t(e)}))}))}},{key:"deleteRoom",value:function(e){var t={roomName:e},o=R+"deleteRoom/";return new Promise((function(e,a){w.a.post(o,t).then((function(t){console.log(t.status),e()})).catch((function(e){console.log(e),a(e)}))}))}},{key:"userLogin",value:function(e,t){var o=R+"newUser/",a={name:e,nickname:t};return new Promise((function(e,t){w.a.post(o,a).then((function(t){console.log(t.status),e()})).catch((function(e){console.log(e),t(e)}))}))}}]),e}(),k=y,C={name:"Home",data:function(){return{form:{username:"",nickname:""}}},methods:Object(p["a"])({},Object(f["b"])(["loginUser"]),{redirect:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.userLogin(e.form.username,e.form.nickname);case 3:o={username:e.form.username,nickname:e.form.nickname},e.loginUser(o),e.form={username:"",nickname:""},screen.width<=600?e.$router.push({name:"Chatmobile"}).catch((function(e){console.log(e)})):e.$router.push({name:"Chat"}).catch((function(e){console.log(e)})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}})},x=C,N=(o("cccb"),Object(s["a"])(x,m,d,!1,null,null,null)),_=N.exports,M=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main"},[o("div",{staticClass:"test container-fluid"},[o("div",{staticClass:"row text-center"},[o("div",{staticClass:"col-4 convBox px-0 heightSet"},[o("div",{staticClass:"listHeader"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.roomSearch,expression:"roomSearch"}],staticClass:"roomSearch",attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.roomSearch},on:{input:function(t){t.target.composing||(e.roomSearch=t.target.value)}}})]),e._l(e.searchRoomComp,(function(t,a){return o("b-list-group",{key:a,staticClass:"listGroup"},[o("b-list-group-item",{staticClass:"listGroupItem list-group-item",on:{click:function(o){return e.roomUpdate(t)}}},[e._v(e._s(t))])],1)})),o("div",{staticClass:"newRoom"},[o("b-dropdown",{staticClass:"m-2",attrs:{id:"dropdown-right",right:"",text:"",variant:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[o("i",{staticClass:"faso fas fa-plus"})]},proxy:!0}])},[o("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.joinRoomModal",modifiers:{joinRoomModal:!0}}]},[e._v("Join room")]),o("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.createRoomModal",modifiers:{createRoomModal:!0}}]},[e._v("Create Room")])],1)],1)],2),"Home"!==e.room?o("div",{staticClass:"col-8 px-0 chatPanel heightSet"},[o("div",{staticClass:"chatHeader"},[o("div",{staticClass:"name"},[e._v(" "+e._s(e.room)+" "),o("br"),o("p",{directives:[{name:"show",rawName:"v-show",value:e.typingVariable.roomName===e.room&&"Home"!==e.room,expression:"typingVariable.roomName === room && room !== 'Home'"}],staticClass:"typing"},[e._v(e._s(e.typingVariable.typeString))])]),o("div",{staticClass:"menu"},["Home"!==this.room?o("i",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteModal",modifiers:{deleteModal:!0}}],staticClass:"faso fas fa-trash-alt"}):e._e()])]),o("div",{staticClass:"chatdivWrapper",attrs:{id:"chatwindow"}},e._l(e.roomForchats,(function(t,a){return o("div",{key:a,staticClass:"chatDiv"},[t.user===e.user.username&&"chat"===t.type?o("div",{staticClass:"RowR"},[o("div",{staticClass:"byYou"},[o("span",{},[o("div",{staticClass:"userName"},[e._v("You")]),e._v(" "+e._s(t.text)+" "),o("span",{staticClass:"date"},[e._v(e._s(e.dateParse(t.dateCreated)))])])])]):"chat"===t.type?o("div",{staticClass:"RowL"},[o("div",{staticClass:"byYou byFriend"},[o("span",{},[o("div",{staticClass:"userName"},[e._v(e._s(t.user))]),e._v(" "+e._s(t.text)+" "),o("span",{staticClass:"date"},[e._v(e._s(e.dateParse(t.dateCreated)))])])])]):e._e()])})),0),o("div",{staticClass:"chatFooter"},[o("b-input-group",{staticClass:"footerWrapper",attrs:{size:"sm",prepend:"",append:""}},[o("b-form-input",{staticClass:"inputBar",attrs:{id:"inputBar",placeholder:"Enter message..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.messageSubmitHandler(t)},input:e.typeHandler},model:{value:e.currentMessage,callback:function(t){e.currentMessage=t},expression:"currentMessage"}}),o("button",{staticClass:"goaRound",on:{click:e.messageSubmitHandler}},[o("i",{staticClass:"faso fas fa-paper-plane"})])],1)],1)]):e._e(),o("div",{staticClass:"col-8 px-0 chatPanel heightSet"},[o("div",{staticClass:"chatHeader"},[o("div",{staticClass:"name"},[e._v(" "+e._s(e.room)+" "),o("br"),o("p",{directives:[{name:"show",rawName:"v-show",value:e.typingVariable.roomName===e.room&&"Home"!==e.room,expression:"typingVariable.roomName === room && room !== 'Home'"}],staticClass:"typing"},[e._v(e._s(e.typingVariable.typeString))])]),o("div",{staticClass:"menu"},["Home"!==this.room?o("i",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteModal",modifiers:{deleteModal:!0}}],staticClass:"faso fas fa-trash-alt"}):e._e()])]),e._m(0)])])]),o("div",{staticClass:"newRoomDiv"},[o("b-modal",{ref:"createRoomModal",attrs:{id:"createRoomModal",title:"Create Room","header-bg-variant":"dark","header-text-variant":"light","hide-header-close":!0,"ok-variant":"success","cancel-variant":"outline-danger","ok-title":"Create","cancel-title":"Cancel","button-size":"sm"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.createNewRoom}},[o("b-form-group",{attrs:{id:"newRoom-group",label:"Enter New Room Name:","label-for":"newRoom-input"}},[o("b-form-input",{attrs:{id:"newRoom-input",required:"",placeholder:"Enter Room name..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createNewRoom(t)}},model:{value:e.newRoomName,callback:function(t){e.newRoomName=t},expression:"newRoomName"}})],1)],1)],1),o("div",{staticClass:"joinRoomDiv"},[o("b-modal",{ref:"joinRoomModal",attrs:{id:"joinRoomModal",title:"Join Room","header-bg-variant":"dark","header-text-variant":"light","ok-variant":"success","hide-header-close":!0,"cancel-variant":"outline-danger","ok-title":"Join","cancel-title":"Cancel","button-size":"sm"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.joinNewRoom}},[o("b-form-group",{attrs:{id:"joinRoom-group",label:"Enter Room Name:","label-for":"joinRoom-input"}},[o("b-form-input",{attrs:{id:"joinRoom-input",required:"",placeholder:"Search for an existing room..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.joinNewRoom(t)}},model:{value:e.searchRoomName,callback:function(t){e.searchRoomName=t},expression:"searchRoomName"}})],1),o("b-list-group",e._l(e.filteredList,(function(t,a){return o("div",{key:a,staticClass:"listItemsWrapper"},[o("b-list-group-item",{attrs:{href:"#",active:e.isIn(t.name)},on:{click:function(o){return e.joinSet(t.name)}}},[e._v(e._s(t.name))])],1)})),0)],1)],1),o("div",{staticClass:"deleteConfirm"},[o("b-modal",{ref:"deleteModal",attrs:{id:"deleteModal",title:"Confirm Deletion","header-bg-variant":"dark","header-text-variant":"light","ok-variant":"success","hide-header-close":!0,"cancel-variant":"outline-danger","ok-title":"Yes","cancel-title":"Cancel","button-size":"sm"},on:{ok:e.deleteRoom}},[e._v(" Are you sure you want to delete '"+e._s(e.room)+"' ? ")])],1)])},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chatIconDiv"},[a("img",{staticClass:"chatIcon",attrs:{src:o("72fe"),alt:"chatIcon"}}),a("div",{staticClass:"idleText"},[e._v(" Please choose a conversation to start chatting. ")])])}],O=(o("4de4"),o("7db0"),o("caad"),o("b0c0"),o("2532"),{name:"chat",data:function(){return{newRoomName:"",typingVariable:{typeString:"",roomName:""},searchRoomName:"",roomSearch:"",pageLoaded:!1,allRooms:[],roomList:[],allInOne:[],room:"Home",currentMessage:"",typing:{user:"",roomName:""}}},sockets:{connect:function(){},rightbackatya:function(){},someonesTyping:function(e){this.typingDisplay(e)},newMessageBroadcast:function(e){this.newMessageHandler(e)},updateRoom:function(){this.loadAllInOne()}},watch:{roomForchats:function(){return this.autoScroll(),!0}},methods:{roomUpdate:function(e){this.room=e,setTimeout((function(){if("Home"!==this.room){var e=document.getElementById("chatwindow"),t=e.scrollHeight;e.scrollTo(0,t)}}),700),this.autoScroll()},deleteRoom:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.deleteRoom(e.room);case 3:e.$socket.emit("newRoomCreated"),o="Room Deleted",a="Room "+e.room+" was deleted successfully",e.makeToast(o,a),e.room="Home",e.loadAllInOne(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getRoomChatsList:function(e){var t=this.allInOne.filter((function(t){return t.roomName===e}));return t[0].chats},messageSubmitHandler:function(){var e=this.getRoomChatsList(this.room);e.push({user:this.user.username,type:"chat",text:this.currentMessage,dateCreated:new Date});var t={user:this.user.username,text:this.currentMessage,roomName:this.room};this.$socket.emit("newMessage",t),k.addMessage(this.user.username,this.room,this.currentMessage),this.currentMessage=""},newMessageHandler:function(e){if(this.roomList.includes(e.roomName)){this.makeToast(e.roomName,e.text);var t=this.getRoomChatsList(e.roomName);t.push({user:e.user,type:"chat",text:e.text,dateCreated:new Date})}},typeHandler:function(){var e={user:this.user.username,roomName:this.room,nickname:this.user.nickname};this.$socket.emit("typing",e)},typingDisplay:function(e){var t=this;this.typingVariable.typeString=e.nickname+" is typing...",this.typingVariable.roomName=e.roomName,setTimeout((function(){t.typingVariable={typeString:"",roomName:"",nickname:""}}),2e3)},autoScroll:function(){if("Home"!==this.room){var e=document.getElementById("chatwindow"),t=e.scrollHeight;e.scrollTo(0,t)}},makeToast:function(e,t){this.$bvToast.toast(t,{title:e,autoHideDelay:2e3,appendToast:!1})},joinNewRoom:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$refs["joinRoomModal"].hide(),!e.roomList.includes(e.searchRoomName)){t.next=5;break}return e.makeToast("Oops!","You are already a part of the room!"),t.abrupt("return",null);case 5:if(e.allRoomListComp.includes(e.searchRoomName)){t.next=8;break}return e.makeToast("Error!","Choose a correct room name to join!"),t.abrupt("return",null);case 8:return o="Joined",t.next=11,k.joinRoom(e.user.username,e.searchRoomName);case 11:return a=t.sent,t.next=14,e.loadAllInOne();case 14:e.makeToast(o,a),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.log(t.t0),console.log(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},createNewRoom:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$refs["createRoomModal"].hide(),""!==e.newRoomName){t.next=5;break}return e.makeToast("Error!","Please enter a valid room name."),t.abrupt("return",null);case 5:return o="Room Created",t.next=8,k.createRoom(e.user.username,e.newRoomName);case 8:a=t.sent,e.loadAllInOne(),e.$socket.emit("newRoomCreated"),e.makeToast(o,a),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0),console.log(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},isIn:function(e){return this.roomList.includes(e)},auto_grow:function(){var e=document.getElementById("inputBar");e.style.height="5px",e.style.height=e.scrollHeight+"px"},joinSet:function(e){this.searchRoomName=e},resetModal:function(){this.newRoomName="",this.searchRoomName=""},loadAllInOne:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.allInOne=[],t.next=4,k.getRoomList();case 4:return e.allRooms=t.sent,t.next=7,k.getSpecificRoom(e.user.username);case 7:e.roomList=t.sent,o=0,a=e.roomList,o=0;case 11:if(!(o<a.length)){t.next=19;break}return t.next=14,k.getRoomChats(a[o]);case 14:n=t.sent,e.allInOne.push({roomName:a[o],chats:n});case 16:o++,t.next=11;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},dateParse:function(e){var t=Date.parse(e),o=new Date(t).getHours(),a=new Date(t).getMinutes();return o+":"+a}},computed:Object(p["a"])({},Object(f["c"])(["user"]),{roomListComp:function(){return this.roomList},allRoomListComp:function(){var e=[],t=0;for(t=0;t<this.allRooms.length;t++)e.push(this.allRooms[t].name);return e},filteredList:function(){var e=this;return this.searchRoomName.length>1?this.allRooms.filter((function(t){return t.name.toLowerCase().includes(e.searchRoomName.toLowerCase())})):null},roomForchats:function(){if(!this.pageLoaded)return[];var e=this.allInOne,t=this.room;"Home"===t&&(t="team quarantine quack");var o=e.find((function(e){return e.roomName===t}));return"undefined"==typeof o?[]:o.chats},searchRoomComp:function(){var e=this;return this.roomSearch.length>1?this.roomList.filter((function(t){return t.toLowerCase().includes(e.roomSearch.toLowerCase())})):this.roomList}}),created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.loadAllInOne()}catch(o){console.log(o.message)}case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){this.pageLoaded=!0,this.autoScroll(),this.$socket.emit("hey")}}),S=O,L=(o("3e5f"),Object(s["a"])(S,M,j,!1,null,"013c91c4",null)),H=L.exports,I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"chatMobileMainDiv"},[o("chatHeader"),o("transition",{attrs:{name:"nfade"}},[e.showList?o("div",{staticClass:"newRoom"},[o("b-dropdown",{staticClass:"m-2",attrs:{id:"dropdown-right",right:"",text:"",variant:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[o("i",{staticClass:"faso fas fa-plus"})]},proxy:!0}],null,!1,2631646986)},[o("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.joinRoomModal",modifiers:{joinRoomModal:!0}}]},[e._v("Join room")]),o("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.createRoomModal",modifiers:{createRoomModal:!0}}]},[e._v("Create Room")])],1)],1):e._e()]),o("transition",{attrs:{name:"fade"}},[e.showList?o("div",{staticClass:"chatlistDiv"},[o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"row text-center"},[o("div",{staticClass:"convBox px-0 heightWidthSet",attrs:{id:"convBox"}},[o("div",{staticClass:"listHeader"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.roomSearch,expression:"roomSearch"}],staticClass:"roomSearch",attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.roomSearch},on:{input:function(t){t.target.composing||(e.roomSearch=t.target.value)}}})]),e._l(e.searchRoomComp,(function(t,a){return o("b-list-group",{key:a,staticClass:"listGroup"},[o("b-list-group-item",{staticClass:"listGroupItem list-group-item",on:{click:function(o){e.roomUpdate(t),e.toggleList()}}},[e._v(e._s(t))])],1)}))],2)])])]):e._e()]),o("div",{staticClass:"chatPanelDiv heightWidthSet"},[o("div",{staticClass:" chatPanel"},[o("div",{staticClass:"chatHeader"},[o("div",{staticClass:"backIcon",on:{click:function(t){return e.toggleList()}}},[o("i",{staticClass:"fas fa-chevron-left"})]),o("div",{staticClass:"name"},[e._v(" "+e._s(e.room)+" "),o("br"),o("p",{directives:[{name:"show",rawName:"v-show",value:e.typingVariable.roomName===e.room&&"Home"!==e.room,expression:"typingVariable.roomName === room && room !== 'Home'"}],staticClass:"typing"},[e._v(e._s(e.typingVariable.typeString))])]),o("div",{staticClass:"menu"},["Home"!==this.room?o("i",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteModal",modifiers:{deleteModal:!0}}],staticClass:"faso fas fa-trash-alt"}):e._e()])]),o("div",{staticClass:"chatdivWrapper",attrs:{id:"chatwindow"}},e._l(e.roomForchats,(function(t,a){return o("div",{key:a,staticClass:"chatDiv"},[t.user===e.user.username&&"chat"===t.type?o("div",{staticClass:"RowR"},[o("div",{staticClass:"byYou"},[o("span",{},[o("div",{staticClass:"userName"},[e._v("You")]),e._v(" "+e._s(t.text)+" "),o("span",{staticClass:"date"},[e._v(e._s(e.dateParse(t.dateCreated)))])])])]):"chat"===t.type?o("div",{staticClass:"RowL"},[o("div",{staticClass:"byYou byFriend"},[o("span",{},[o("div",{staticClass:"userName"},[e._v(e._s(t.user))]),e._v(" "+e._s(t.text)+" "),o("span",{staticClass:"date"},[e._v(e._s(e.dateParse(t.dateCreated)))])])])]):e._e()])})),0),o("div",{staticClass:"chatFooter"},[o("b-input-group",{staticClass:"footerWrapper",attrs:{size:"sm",prepend:"",append:""}},[o("b-form-input",{staticClass:"inputBar",attrs:{id:"inputBar",placeholder:"Enter message..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.messageSubmitHandler(t)},input:e.typeHandler},model:{value:e.currentMessage,callback:function(t){e.currentMessage=t},expression:"currentMessage"}}),o("button",{staticClass:"goaRound",on:{click:e.messageSubmitHandler}},[o("i",{staticClass:"faso fas fa-paper-plane"})])],1)],1)])]),o("div",{staticClass:"newRoomDiv"},[o("b-modal",{ref:"createRoomModal",attrs:{id:"createRoomModal",title:"Create Room","header-bg-variant":"dark","header-text-variant":"light","hide-header-close":!0,"ok-variant":"success","cancel-variant":"outline-danger","ok-title":"Create","cancel-title":"Cancel","button-size":"sm"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.createNewRoom}},[o("b-form-group",{attrs:{id:"newRoom-group",label:"Enter New Room Name:","label-for":"newRoom-input"}},[o("b-form-input",{attrs:{id:"newRoom-input",required:"",placeholder:"Enter Room name..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createNewRoom(t)}},model:{value:e.newRoomName,callback:function(t){e.newRoomName=t},expression:"newRoomName"}})],1)],1)],1),o("div",{staticClass:"joinRoomDiv"},[o("b-modal",{ref:"joinRoomModal",attrs:{id:"joinRoomModal",title:"Join Room","header-bg-variant":"dark","header-text-variant":"light","ok-variant":"success","hide-header-close":!0,"cancel-variant":"outline-danger","ok-title":"Join","cancel-title":"Cancel","button-size":"sm"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.joinNewRoom}},[o("b-form-group",{attrs:{id:"joinRoom-group",label:"Enter Room Name:","label-for":"joinRoom-input"}},[o("b-form-input",{attrs:{id:"joinRoom-input",required:"",placeholder:"Search for an existing room..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.joinNewRoom(t)}},model:{value:e.searchRoomName,callback:function(t){e.searchRoomName=t},expression:"searchRoomName"}})],1),o("b-list-group",e._l(e.filteredList,(function(t,a){return o("div",{key:a,staticClass:"listItemsWrapper"},[o("b-list-group-item",{attrs:{href:"#",active:e.isIn(t.name)},on:{click:function(o){return e.joinSet(t.name)}}},[e._v(e._s(t.name))])],1)})),0)],1)],1),o("div",{staticClass:"deleteConfirm"},[o("b-modal",{ref:"deleteModal",attrs:{id:"deleteModal",title:"Confirm Deletion","header-bg-variant":"dark","header-text-variant":"light","ok-variant":"success","hide-header-close":!0,"cancel-variant":"outline-danger","ok-title":"Yes","cancel-title":"Cancel","button-size":"sm"},on:{ok:e.deleteRoom}},[e._v(" Are you sure you want to delete '"+e._s(e.room)+"' ? ")])],1)],1)},E=[],T=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"nav"},[e._v(" chatSmash ")])},P=[],D={name:"chatHeader",mounted:function(){var e=.01*window.innerHeight;console.log(e),document.documentElement.style.setProperty("--vh","".concat(e,"px"))}},$=D,B=(o("acef"),Object(s["a"])($,T,P,!1,null,"4cc89236",null)),V=B.exports,A={name:"Chatmobile",components:{chatHeader:V},data:function(){return{showList:!0,newRoomName:"",typingVariable:{typeString:"",roomName:""},searchRoomName:"",roomSearch:"",pageLoaded:!1,allRooms:[],roomList:[],allInOne:[],room:"Home",currentMessage:"",typing:{user:"",roomName:""}}},sockets:{connect:function(){},rightbackatya:function(){},someonesTyping:function(e){this.typingDisplay(e)},newMessageBroadcast:function(e){this.newMessageHandler(e)},updateRoom:function(){this.loadAllInOne()}},watch:{roomForchats:function(){return this.autoScroll(),!0}},methods:{roomUpdate:function(e){this.room=e,setTimeout((function(){var e=document.getElementById("chatwindow"),t=e.scrollHeight;e.scrollTo(0,t)}),700),this.autoScroll()},toggleList:function(){this.showList=!this.showList},openNav:function(){document.getElementById("convBox").style.opacity="1",document.getElementById("convBox").style.trasnform="scale(1,1)"},closeNav:function(){document.getElementById("convBox").style.opacity="0",console.log("the function is being called")},deleteRoom:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.deleteRoom(e.room);case 3:e.$socket.emit("newRoomCreated"),o="Room Deleted",a="Room "+e.room+" was deleted successfully",e.makeToast(o,a),e.room="Home",e.loadAllInOne(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getRoomChatsList:function(e){var t=this.allInOne.filter((function(t){return t.roomName===e}));return t[0].chats},messageSubmitHandler:function(){var e=this.getRoomChatsList(this.room);e.push({user:this.user.username,type:"chat",text:this.currentMessage,dateCreated:new Date});var t={user:this.user.username,text:this.currentMessage,roomName:this.room};this.$socket.emit("newMessage",t),k.addMessage(this.user.username,this.room,this.currentMessage),this.currentMessage=""},newMessageHandler:function(e){if(this.roomList.includes(e.roomName)){this.makeToast(e.roomName,e.text);var t=this.getRoomChatsList(e.roomName);t.push({user:e.user,type:"chat",text:e.text,dateCreated:new Date})}},typeHandler:function(){var e={user:this.user.username,roomName:this.room,nickname:this.user.nickname};this.$socket.emit("typing",e)},typingDisplay:function(e){var t=this;this.typingVariable.typeString=e.nickname+" is typing...",this.typingVariable.roomName=e.roomName,setTimeout((function(){t.typingVariable={typeString:"",roomName:"",nickname:""}}),2e3)},autoScroll:function(){var e=document.getElementById("chatwindow"),t=e.scrollHeight;e.scrollTo(0,t)},makeToast:function(e,t){this.$bvToast.toast(t,{title:e,autoHideDelay:2e3,appendToast:!1})},joinNewRoom:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$refs["joinRoomModal"].hide(),!e.roomList.includes(e.searchRoomName)){t.next=5;break}return e.makeToast("Oops!","You are already a part of the room!"),t.abrupt("return",null);case 5:if(e.allRoomListComp.includes(e.searchRoomName)){t.next=8;break}return e.makeToast("Error!","Choose a correct room name to join!"),t.abrupt("return",null);case 8:return o="Joined",t.next=11,k.joinRoom(e.user.username,e.searchRoomName);case 11:return a=t.sent,t.next=14,e.loadAllInOne();case 14:e.makeToast(o,a),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.log(t.t0),console.log(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},createNewRoom:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$refs["createRoomModal"].hide(),""!==e.newRoomName){t.next=5;break}return e.makeToast("Error!","Please enter a valid room name."),t.abrupt("return",null);case 5:return o="Room Created",t.next=8,k.createRoom(e.user.username,e.newRoomName);case 8:a=t.sent,e.loadAllInOne(),e.$socket.emit("newRoomCreated"),e.makeToast(o,a),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0),console.log(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},isIn:function(e){return this.roomList.includes(e)},auto_grow:function(){var e=document.getElementById("inputBar");e.style.height="5px",e.style.height=e.scrollHeight+"px"},joinSet:function(e){this.searchRoomName=e},resetModal:function(){this.newRoomName="",this.searchRoomName=""},loadAllInOne:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var o,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.allInOne=[],t.next=4,k.getRoomList();case 4:return e.allRooms=t.sent,t.next=7,k.getSpecificRoom(e.user.username);case 7:e.roomList=t.sent,o=0,a=e.roomList,o=0;case 11:if(!(o<a.length)){t.next=19;break}return t.next=14,k.getRoomChats(a[o]);case 14:n=t.sent,e.allInOne.push({roomName:a[o],chats:n});case 16:o++,t.next=11;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},dateParse:function(e){var t=Date.parse(e),o=new Date(t).getHours(),a=new Date(t).getMinutes();return o+":"+a}},computed:Object(p["a"])({},Object(f["c"])(["user"]),{roomListComp:function(){return this.roomList},allRoomListComp:function(){var e=[],t=0;for(t=0;t<this.allRooms.length;t++)e.push(this.allRooms[t].name);return e},filteredList:function(){var e=this;return this.searchRoomName.length>1?this.allRooms.filter((function(t){return t.name.toLowerCase().includes(e.searchRoomName.toLowerCase())})):null},roomForchats:function(){if(!this.pageLoaded)return[];var e=this.allInOne,t=this.room;"Home"===t&&(t="team quarantine quack");var o=e.find((function(e){return e.roomName===t}));return"undefined"==typeof o?[]:o.chats},searchRoomComp:function(){var e=this;return this.roomSearch.length>1?this.roomList.filter((function(t){return t.toLowerCase().includes(e.roomSearch.toLowerCase())})):this.roomList}}),created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.loadAllInOne()}catch(o){console.log(o.message)}case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),this.pageLoaded=!0,this.autoScroll(),this.$socket.emit("hey")}},U=A,q=(o("c065"),Object(s["a"])(U,I,E,!1,null,"387ca108",null)),F=q.exports;a["default"].use(u["a"]);var J=[{path:"/",name:"Home",component:_},{path:"/chat/",name:"Chat",component:H},{path:"/chat/mobile/",name:"Chatmobile",component:F}],Y=new u["a"]({mode:"history",base:"/",routes:J}),z=Y,W={user:{username:"",nickname:""}},G={loginUser:function(e,t){var o=e.commit;o("updateUser",t)}},K={updateUser:function(e,t){e["user"]={username:t.username,nickname:t.nickname}}},Q={},X=o("0e44"),Z=o("a78e"),ee=o.n(Z);a["default"].use(f["a"]);var te=new f["a"].Store({state:W,plugins:[Object(X["a"])({getItem:function(e){return ee.a.get(e)},setItem:function(e,t){return ee.a.set(e,t,{espires:3,secure:!0})},removeItem:function(e){return ee.a.remove(e)}})],actions:G,mutations:K,modules:Q}),oe=o("5f5b"),ae=o("5132"),ne=o.n(ae);o("f9e3"),o("2dd8"),o("8d76");a["default"].config.productionTip=!1,a["default"].use(oe["a"]);var re="production";if(console.log(re),"development"===re)var se="http://localhost:8000/";else se="https://shielded-beyond-17297.herokuapp.com/";a["default"].use(new ne.a({debug:!0,connection:se,vuex:{store:te,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"},options:{}})),new a["default"]({router:z,store:te,render:function(e){return e(l)}}).$mount("#app")},"5ced":function(e,t,o){},"72fe":function(e,t,o){e.exports=o.p+"img/chatIcon.a7c7ce03.svg"},"85ec":function(e,t,o){},a380:function(e,t,o){},acef:function(e,t,o){"use strict";var a=o("031b"),n=o.n(a);n.a},c065:function(e,t,o){"use strict";var a=o("0490"),n=o.n(a);n.a},cccb:function(e,t,o){"use strict";var a=o("5ced"),n=o.n(a);n.a}});
//# sourceMappingURL=app.55bdd6a5.js.map